---
layout: post
title: python复习例题
date: 2021-11-14
author: 胡清月   
categories:     
  - 数据分析部
tags:  
  - Python 复习例题
---
## Python 复习

### 1.while循环

#### 例1 输出从1加到99的总和
```python
n=0
i=1
while i<=99:
    n=n+i
    i+=1
print("总和为：",n)
```

#### 例2 输出从1加到用户指定数字的总和
```python
#法一  （用while循环）
a=int(input("请输入一个整数："))#注意转化为数字类型
n=0
i=1
while i<=a:
    n=n+i
    i+=1
print('1+...+',a,"=",n)
```

```python
#法二   （用for in 循环）
a=int(input("请输入一个整数："))
n=0
for i in  range(a):
    n=n+i+1              #range函数为左闭右开区间 所以后面要+1
print('1+...+',a,"=",n)
```

#### 例3 对用户输入的一系列整数求和并计数，当用户输入0，程序结束输入
```python
#if 和 while的结合
i=int(input('请输入一个整数：'))
n=0
while i!=0:
    n=n+i
    i=int(input('请输入一个整数：'))
print('和为：',n)
```

#### 例4 从键盘接收两个整数，编程求出这两个整数的最大公约数和最小公倍数。（求自最大公约数可用辗转相除法：两个整数的最大公约数等于其中较小者与  较大者对较小者余数  的最大公约数，循环下去，直到余数为零结束，此时的较小者即为最大公约数。）
```python
a,b=eval(input("请输入两个整数,以逗号分隔："))
x,y=a,b
while y!=0:
    m=x%y
    x=y
    y=m
print("zdgys=",x)
print("zdgbs=",a*b/x)
```

### 2.if 类题型

#### 例1.按照 1$ = 6￥ 人民币的汇率,编写一个美元和人民币的双向兑换程序,并运行
```python
m=input('请输入需要转化的货币值(美元以$结尾，人民币以￥结尾：')
if m[-1]=="$":
    ren=eval(m[0:-1])*6
    print(m+"转化为人民币为：{:.2f}".format(ren))
elif m[-1]=="￥":
    mei=eval(m[0:-1])/6
    print(m+"转化为美元为：{:.2f}".format(mei))
    print(m[0:-1])  # m[0:1]为左闭右开
    print(m)
else:
    print('输入无效')
```
>小tips ——str函数能将数值型变量转换成字符串，这样就可以用+连接字符串

*补：<1>关于进制的转化*   
*格式化输出65的二进制、八进制、十进制、十六进制的表达形式，及其对应的unicode字符*
```python
print('十进制{0}的二进制为：0B{0:b},八进制为0O{0:o},十六进制为：0X{0:X},对应的unicode字符为{0:c} '.format(65))
```
#### 例2 “回文数"是一种数字，如:98789, 这个数字正读是98789,倒读也是98789,正读倒读一样,这个数字就是回文数。编程实现判定输入的任意一个整数是否是回文数。
```python
a=str(input('请输入任意整数:'))
if a==a[::-1]:
          print('{}是回文数'.format(a))
else:
          print('{}不是回文数'.format(a))
```
*补<2>关于翻转*
```python
a="987"  
print(a[::-1])    #[::-1]是翻转
```
#### 例3 用户设置（即输入）密码，要求密码至少8位，而且只能包含字母汉字、数字、下划线，请编程实现密码输入，并判定其是否合法
```python
#可以删除_之后再用isalnum()判断
#isalnum()函数可以判断的字符包括数字、字母、中文字符
passw=input("请输入密码：")
if len(passw)<8:
    print("密码不合法")
else:
    if "_" in passw:
        passw=passw.replace("_","")
    if passw.isalnum():
        print("密码满足要求")
    else:
        print("密码不满足要求")
```
### 3. for in 循环
#### 例1（条件中条件）1、完数指一个数恰好等于它的所有因子之和（不包括其本身）。例：6的因子是1,2,3，而6=1+2+3,因此6是完数，编程输出1000之内的所有完数
```python
for i in range(3,1001):
    n=0
    for v in range(1,i):
        if i%v==0:
            n=n+v
    if n==i: #此处就是与for平级关系
        print(i)
```
#### 例2 一只公鸡5元钱，一只母鸡3元钱，三只小鸡1元钱，用100元钱买100只鸡，有几种方案？分别写出。输出格式为：
第1组解：公鸡：0 母鸡：25 小鸡：75    
第2组解：公鸡：4 母鸡：18 小鸡：78    
```python
s=0
for x in range(0,21):
    for y in range(0,34):
        if x*5+y*3+(100-x-y)/3==100:
            s=s+1
            print("第{}组解：公鸡：{} 母鸡：{} 小鸡：{}".format(s,x,y,100-x-y))
```
#### 例3 输出10000之内的所有水仙花数。水仙花数是一个n（n>=3）位数，它的每个位上的数字的n次幂之和等于其本身
```python
for i in range(1,10001):   #着重看
    a=str(i)
    b=len(a)
    s=0
    for v in range(0,b):
        s=s+pow(int(a[v]),b)
    if s==i:
        print(s)
```
#### 例4 编写程序，用户输入一个合数，程序将其分解为质因式输出，如：60=2* 2* 3* 5
```python
n=int(input("请输入一个合数："))       #法一
s=str(n)+"="
for i in range(2,n): #i设定为除数
    while n % i==0: #若i除尽n,则i为质因数，重置被除数，连续除i
        s=s+str(i)+"*"
        n=n//i    #布置下一次的被除数
print(s[0:-1])
```
```python
a=int(input("请输入一个合数:"))     #法二
b=2
c=""
d=a
def sushu(n):
          for i in range(2,n):
                    if n%i==0:
                              break
          else:
                    return True
while b<=a:                           #如果用for in循环无法让一个数重复
          if a%b==0 and sushu(b):
                    c=c+str(b)+"*"
                    a=a/b
          else:
                    b=b+1 
print('因式分解的结果是:{}={}'.format(d,c[:-1]))
```
### 4. 函数
#### 例1 编写实现求一个整数参数的偶数位之和的函数,函数名为evensum。调用该函数，输出整数123456的偶数位的和
```python
def evensum(n):
    v=str(n)
    m=v[-2::-2]
    a=0
    c=""
    for i in range(len(m)):
        s=int(m[i])
        a=a+s
    return a

print(evensum(123456))
```
>#### tips int函数的第2个参数表示进制。功能则是将字符串转换成十进制整数
#### 例2  编写函数，实现将二进制字符串转化为10进制数。参数为字符串，返回值为数值。编程实现用户输入二进制数，输出十进制数。
```python
def f(n):
    s=int(n,2)  #int函数的第2个参数表示进制。功能则是将字符串转换成十进制整数
    return s
print(f('1000'))
```
#### 例3 编写匿名函数，实现：传入一个字符串，返回不包含空格在内的字符的个数。调用匿名函数实现对用户输入的字符串进行上述处理，并输出字符串长度。
```python
process=lambda a:len(a.replace(" ",""))
v=input("请输入字符串：")
print("字符串长度:",process(v))
```
*异常处理*
#### 例4 实现isNum()函数，参数为一个字符串，如果这个字符串属于整数、浮点数，则返回True，否则返回False。
```python
def isNum(n):    
    try:
        if type(eval(n))in [int, float]:    
            return True
        else:
            return False
    except:
        return False
```
#### 例5 实现isPrime()函数，参数为整数，要有异常处理。如果整数是质数，返回True，否则返回False
```python
def isPrime(n):
    try:
        a=int(n)
        for i in range(2,a):
            if a%i==0:      #判断素数要把循环全部遍历完再判断
                break
        if i==a-1:
            return True
        else:
            return False
    except:         #不在except段直接return False 可以避免输入有误和输入非质数混淆
        print("不合法元素")
        exit(0)                              #终止程序

y=input("请输入一个整数：")
if isPrime(y):
    print(y,"是素数")
else:
    print(y,"不是素数")
```
#### 例6 编写一个递归函数，实现将十进制数转化为二进制串，并调用该函数。
```python
def zhuan(x):          #法一
    if x==0:
        return "" #当商为0时，无需转换，因此返回空
    else:
        z=x%2    #生成余数
        x=x//2   #布置下一次的被除数
        return zhuan(x)+ str(z) #将生成的余数从左边进行连接，符合二进制数生成规律（递归）
s1=zhuan(20)
print(s1)
```
```python
s=""
def digui(n):
    global s    #声明s为全局变量，则每次函数调用，都可使用和修改s
    x,y=divmod(n,2)#x为商，y为余数
    s=s+str(y)
    if x>=1:
        return digui(x) #商大于等于1时，继续短除法（递归）
    else:
        return s[::-1] #将得到的字符串逆序，以符合二进制数生成规律
a=eval(input("请输入一个十进制数:"))
p=digui(a)
print("它的二进制为:",p)
```
*补<3>引用函数*
#### 例1 编写程序，利用random库，生成10个随机密码，每个密码固定为10个字符，字符可能是26个小写字母，也可能是10个数字，也可能是!@#￥%^&*8个特殊符号。输出格式为：
hcnk%xtp  
5c6fltm@    
*x*8ddz&   
4clc0dbn   
y651qrdx    
.......
```python
import random
v="0123456789!@#￥%^&*abcdefghijklmnopqrstuvwxyz"
for n in range (0,10):
    password=""
    for i in range(0,10):
        a=random.randint(0,43)
        password=password+v[a]
    print(password)  
```
#### 例2 编程实现：请验证1000以内的偶数是否符合哥德巴赫猜想。哥德巴赫猜想：任何一个大于等于6的偶数均可表示为两个素数之和。例如6=3+3,8=3+5,…,18=7+11。
```python
def sushu(n):
    for i in range(2,n):
        if n % i == 0:
            break
    if i == n-1:
        return True
    else:
        return False
    
for m in range(6,10,2):
    for a in range(3,m//2+1):                  #这里的m一定是m//2+1
        if sushu(a) and sushu(m-a):            #不是很懂
            print("{}={}+{}".format(m,a,m-a),end=" ")
    print()
```
### 5. 列表
#### 例1 编写程序，接收用户输入的一行由分号“;”分隔的若干个整数，计算这些数的平均数，并且统计有多少个数大于平均数，多少个数小于平均数。
```python
a=list(eval(input("请输入若干整数，以；分隔").replace(";",",")))
b=sum(a)/len(a)
print("平均数为:",b)
d=x=0
for item in a:
    if item>b:
        d=d+1
    elif item<b:
        x=x+1
print("大于平均数的有{:d}个，小于平均数的有{:d}个".format(d,x))
```
#### 例2 编写程序，让用户通过键盘来输入6道单项选择题的选项，然后和答案进行比对，进而输出评分（设定1题1分），答案依次为C、B、C、B、A、A。
```python
s=["C","B","C","B","A","A"]
b=list(input("请输入答案"))
print(b)
a=0
for i in range(6):
    if s[i]==b[i]:
        a=a+1
print(a,"分")
```
```python
answer=[]
for i in range(6):
    a=input("第"+str(i+1)+"题选择:")
    answer.append(a.upper())
solution=["C","B","C","B","A","A"]
score=0
for j in range(6):
    if answer[j]==solution[j]:
        score+=1
print('得分为:',score)
```
#### 例3 编写函数。实现把列表中第一个元素与最后一个元素对调，第二个元素与倒数第二个元素对调，以此类推。
```python
def exchange(ls):
    ls.reverse()
    return ls

a=["A","B","C","D","E","F"]
b=[1,2,3,4,5,6]
print(exchange(a))
print(exchange(b))
```
#### 例4 编写程序，随机生成由两位整数组成的二维列表(5行5列)，并输出。输出效果如下图所示。同时，程序输出行内元素和最大的一行的行号，以及列内元素和最大的一列的列号。
```python
import random     #法一
s=[[random.randint(10,99)for y in range(5)]for x in range(5)]
for i in s:
    for j in i:
        print(j,end="")
    print()
    
line=[sum(s[i][j]for j in range(5))for i in range(5)]
column=[sum(s[i][j]for j in range(5))for i in range(5)]
print(line.index(max(line))+1)
print(column.index(max(column))+1)
```
>x={1,2,3,4}   
x.pop()
#### 例5 编写函数，将一串文本中的辅音字母（去掉元音字母）反序后返回。编写代码，调用该函数。
```python
def fu(n):
    a=input("请输入一串英文文本：")
    a=a.replace("a","")
    a=a.replace("e","")
    a=a.replace("i","")
    a=a.replace("o","")
    a=a.replace("u","")
    a=a.replace("A","")
    a=a.replace("E","")
    a=a.replace("I","")
    a=a.replace("O","")
    a=a.replace("U","")
    a=a[::-1]
    return a 
fu(n)
```
```python
def nixu(s):
    h=""
    for x in s:
        if x in ["a","e","i","o","u","A","E","I","O","U"]:
            i=s.index(x)
            s=s[0:i]+s[i+1:]
    for y in s:
        h=y+h
    return(h)

n=input("请输入一段文本：")
print(nixu(n))
```
#### 例6 随机生成6行6列的矩阵(每个值都是10~99之间的整数)。求主对角线上元素的乘积，以及副对角线上元素的和。
```python
a=[]
import random
for j in range(6):
    s=[]
    for i in range(6):
        s.append(random.randint(10,99))
        print(s[i],end=" ")
    a.append(s)
    print( )
    
v=a[0][0]*a[1][1]*a[2][2]*a[3][3]*a[4][4]*a[5][5]
print(v)
```
### 6. 集合
#### 例1	获得用户输入的一个整数N，输出N中所出现不同数字的和。例如：用户输入 123123123，其中所出现的不同数字为：1、2、3，这几个数字和为6。 
```python
N=input("请输入一个整数：")
n=set(N)
v=0
st=""
for i in n:    #对集合中遍历不用range
    v=v+int(i)     #集合中把字符变成数字
    st=st+"+"+i
print(st[1:],"=",v)
```
#### 例2 	从0到9中随机选择，生成1到10个随机数，这些数字组成集合A。按此方法同样生成集合B。(集合元素个数不定)分别输出A、B集合以及A&B和A|B的结果。
```python
import random
a=set()
b=set()
for i in range(0,random.randint(1,10)):
    a.add(random.randint(0,9))
    b.add(random.randint(0,9))
print(a)
print(b)
print("a&b:\n",a&b)
print("a|b:\n",a|b)
```
#### 例3 从0到9中随机选择，生成1到10个随机数，这些数字组成集合A。(集合元素个数不定)。让用户猜集合中的数字，直到全部猜中为止。
```python
a=set()
import random
for i in range(0,random.randint(1,10)):
    a.add(random.randint(0,9))
print(a)
b=set()
i=0
while True:    #这里为什么用while true
    if len(b)<len(a):
        i=i+1
        temp=int(input("请输入猜的数字:"))
        if temp in a:
            b.add(temp)
    if a==b:
        print("随机生成的集合是{}，你一共猜了{}次！".format(a,i))
        break
 ```
#### 例4 用键盘输入a和n,求Sn=a+aa+aaa+…+aa…aaa的值，例如当a=2,n=5时，S5=2+22+222+2222+22222
```python
a=input("请输入a的值：")
n=int(input("请输入n的值："))
s=0
t=0
for i in range(1,n+1):
    t=t*10+int(a)
    s=s+t    #这里a为字符，*i即将a连接i次
print(s)
```
### 7.字典
#### 例1 数字重复统计：
     随机生成范围为[0,9]的100个整数，并升序输出所有不同的数字及其每个数字的重复次数
```python
import random
a=[]
for i in range(0,100):
    a.append(random.randint(0,9))
print(a)
a.sort()   #数值的列表或字符串的列表，能用sort()方法排序。sort()方法当场对列表排序
print(a)
counter={}
for j in a:
    counter[j]=counter.get(j,0)+1
for k,v in counter.items():
    print("{}:{}次".format(k,v))
```
#### 例 2、数字抽奖游戏
抽奖游戏设计为1000人参加。游戏根据随机数值抽奖，等级为一等奖, 二等奖、三等奖、四等奖。程序要求输出各等级奖品的个数。
       
       如果范围在[0,0.02)之间,代表一等奖,     
      如果范围在[0.02,0.07)之间,代表二等奖,    
      如果范围在[0.07,0.3)之间,代表三等奖,     
      如果范围在[0.3, 1.0)之间,代表四等奖
```python
import random
a=[]
for i in range(0,1000):
    a.append(random.random())
print(a)
counter={'一等奖':0,'二等奖':0,'三等奖':0,'四等奖':0}    #[设置字典]
for j in range(0,1000):
        if 0<=a[j]<0.02:
            counter['一等奖']+=1
        elif 0.02<=a[j]<0.07:
            counter['二等奖']+=1
        elif 0.07<=a[j]<0.3:
            counter['三等奖']+=1
        elif 0.3<=a[j]<1:
            counter['四等奖']+=1   
for i,v in counter.items():    #输出字典中的键值对
    print(i,v)
```